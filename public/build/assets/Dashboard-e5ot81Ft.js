import{r as s,b as _,j as e,Y as E}from"./app-CZcuIkTm.js";import{B as y,Y as w,A as S}from"./AuthenticatedLayout-D1DLJ6I4.js";/* empty css             */import{f as k}from"./helper-DYhnhvVe.js";function P({auth:f,note:n}){const t=s.useRef(null),[i,j]=s.useState(n.name),[p,o]=s.useState(!1),[l,c]=s.useState(!0),[N,m]=s.useState(0),[r,d]=s.useState(""),v=a=>{m(x=>x+1),o(!0),j(a.target.value)};s.useEffect(()=>{console.log("lastWord",r),r=="Escape"&&(c(!0),u()),r=="Enter"&&c(!1)},[r]);const h=a=>{a.key==="Escape"&&d("Escape"),a.key==="Enter"&&d("Enter")},g=()=>{t&&t.current&&(t.current.focus(),t.current.selectionStart=t.current.value.length,t.current.selectionEnd=t.current.value.length)};s.useEffect(()=>{l||g()},[l]),s.useEffect(()=>(window.addEventListener("keydown",h),()=>{window.removeEventListener("keydown",h)}),[]);const u=()=>{if(p){const a={note:n.id,name:i};_.post(`/${n.id}/store_note`,a).then(x=>{y.success("Saved",{position:"top-right",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,progress:0,theme:"dark",transition:w}),o(!1)})}};return e.jsxs(S,{user:f.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Dashboard"}),children:[e.jsx(E,{title:"Dashboard"}),e.jsxs("div",{id:"home__wrapper",children:[e.jsx("nav",{className:"home__nav d-none",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{children:"D"})}),e.jsx("li",{children:e.jsx("a",{children:"P"})}),e.jsx("li",{children:e.jsx("a",{children:"S"})}),e.jsx("li",{children:e.jsx("a",{children:"N"})})]})}),e.jsxs("div",{className:"home__aside",children:[e.jsx("div",{className:"link__title",children:e.jsx("h3",{children:"Scrum"})}),e.jsxs("div",{className:"link__group",children:[e.jsx("p",{children:"Prefix"}),e.jsx("p",{children:"Saya hari ini :"})]}),e.jsxs("div",{className:"link__group_row",style:{display:"none"},children:[e.jsx("p",{children:"Project hari ini"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Lorem"}),e.jsx("li",{children:"Ipsum"}),e.jsx("li",{children:"Tralala"})]})]}),e.jsx("button",{children:"Send To Whatsapp"})]}),e.jsx("div",{className:"home__main",children:l?e.jsx("div",{id:"display",className:"textarea__preview",children:k(i)}):e.jsx("textarea",{ref:t,className:"",spellCheck:"false",value:i,autoFocus:!0,onChange:v,onBlur:u})})]})]})}export{P as default};
