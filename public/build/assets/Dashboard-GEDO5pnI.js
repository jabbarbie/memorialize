import{r as s,b as O,j as o,Y as B}from"./app-DzMduIpi.js";import{B as i,Y as c,A as H}from"./AuthenticatedLayout-Dv2A1o2G.js";/* empty css             */import{f as P}from"./helper-DOnraGNN.js";function U({auth:C,note:u}){const a=s.useRef(null),[n,y]=s.useState(u.name),[v,f]=s.useState(!1),[d,p]=s.useState(!0),[_,k]=s.useState(0),[l,g]=s.useState("");s.useState("62895615912993");const[E,D]=s.useState("saya hari ini"),b=e=>{k(r=>r+1),f(!0),y(e.target.value)};s.useEffect(()=>{console.log("lastWord",l),l=="Escape"&&(p(!0),m()),l=="Enter"&&p(!1)},[l]);const h=e=>{e.key==="Escape"&&g("Escape"),e.key==="Enter"&&g("Enter")},S=()=>{a&&a.current&&(a.current.focus(),a.current.selectionStart=a.current.value.length,a.current.selectionEnd=a.current.value.length)};s.useEffect(()=>{d||S()},[d]),s.useEffect(()=>(window.addEventListener("keydown",h),()=>{window.removeEventListener("keydown",h)}),[]);const m=()=>{if(v){const e={note:u.id,name:n};O.post(`/${u.id}/store_note`,e).then(r=>{i.success("Saved",{position:"top-right",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,progress:0,theme:"dark",transition:c}),f(!1)})}},j=()=>{if(!n||n.length==0)return[];let e=!1;console.log(n);let r=[];return n.split(`
`).map((t,x)=>{console.log(x,t,e),t.trim().startsWith("#")?(console.log("ada prefix scrum",t.trim().startsWith("#")),console.log("isinya",t.slice(1).toUpperCase()),t.slice(1).toUpperCase().trim()=="SCRUM"&&(console.log(t.slice(1).toUpperCase()),e=!0)):t.trim().length>0?e&&(console.log("lanjut",t),r.push(t+`
`),e=!0):(console.log("gagal",t),e=!1)}),console.log("finish",r),r},w=e=>{e.preventDefault();const r=j();if(r.length>0){r.unshift(E+` : 
`);const t=r.join("");navigator.clipboard.writeText(t).then(()=>{i.success("Copied",{position:"top-right",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,progress:0,theme:"dark",transition:c})}).catch(x=>{i.error("Failed",{position:"top-right",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,progress:0,theme:"dark",transition:c})})}else i.error("Pastikan format scrum benar",{position:"top-right",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,progress:0,theme:"dark",transition:c})};return o.jsxs(H,{user:C.user,header:o.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Dashboard"}),aside:o.jsx("ul",{children:o.jsx("li",{children:o.jsx("a",{href:"",onClick:w,children:"Copy Scrum"})})}),children:[o.jsx(B,{title:"Dashboard"}),d?o.jsx("div",{id:"display",className:"textarea__preview",children:P(n)}):o.jsx("textarea",{ref:a,className:"",spellCheck:"false",value:n,autoFocus:!0,onChange:b,onBlur:m})]})}export{U as default};
